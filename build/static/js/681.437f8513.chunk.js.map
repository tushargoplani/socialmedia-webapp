{"version":3,"file":"static/js/681.437f8513.chunk.js","mappings":"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","sources":["components/sidebar/Sidebar.jsx","routes/settings/Settings.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport {\r\n  Home,\r\n  ContactSupport,\r\n  GitHub,\r\n  Twitter,\r\n  Person,\r\n  Info,\r\n  LinkedIn,\r\n  Instagram,\r\n  Chat,\r\n  HelpOutline,\r\n  AddBox,\r\n} from \"@material-ui/icons\";\r\n\r\nconst menuItems = [\r\n  { name: \"Create Post\", to: \"/write\", Icon: AddBox },\r\n  { name: \"Home\", to: \"/\", Icon: Home },\r\n  { name: \"Chats\", to: \"/chat\", Icon: Chat },\r\n  { name: \"About\", to: \"/about\", Icon: Info },\r\n  { name: \"Contact\", to: \"/contact\", Icon: ContactSupport },\r\n];\r\n\r\nexport default function Sidebar() {\r\n  return (\r\n    <div className=\"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden\">\r\n      <div className=\"p-4\">\r\n        <ul className=\"flex flex-col gap-2 font-medium text-gray-80\">\r\n          {menuItems.map(({ name, Icon, to }, idx) => (\r\n            <Link\r\n              key={idx}\r\n              to={to}\r\n              className=\"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20\"\r\n            >\r\n              <Icon />\r\n              <span>{name}</span>\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n        {/* <div className=\"flex mt-5 gap-1 mb-2 items-center justify-center\">\r\n          {linkItems.map(({ Icon, to }, idx) => (\r\n            <a target=\"_blank\" rel=\"noreferrer\" key={idx} href={to}>\r\n              <Icon className=\"text-3xl text-gray-90 hover:text-[#353434]\" />\r\n            </a>\r\n          ))}\r\n        </div> */}\r\n        {/* <hr className=\"py-5\" /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport { DEFAULT_AVATAR } from \"../../constants/constants\";\r\nimport { baseUrl } from \"../../api/baseUrls\";\r\nimport { actionTypes } from \"../../constants/constants\";\r\n\r\ndocument.title = \"Settings\";\r\n\r\nconst initialValue = {\r\n  profilepicture: \"\",\r\n  username: \"\",\r\n  email: \"\",\r\n  description: \"\",\r\n  city: \"\",\r\n};\r\n\r\nconst { UPDATE_USER } = actionTypes;\r\n\r\nexport default function Settings() {\r\n  const user = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const [settingsState, setSettingsState] = useState(initialValue);\r\n\r\n  const onChangeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    setSettingsState((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const select =\r\n        \"username email profilepicture description city createdAt lastSeen\";\r\n      try {\r\n        const { data } = await baseUrl.get(`/users`, {\r\n          params: { userId: user.userId, select },\r\n        });\r\n        if (data?.response) setSettingsState(data?.response);\r\n      } catch (error) {}\r\n    })();\r\n  }, [user.userId]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const updatedUser = { userId: user.userId, ...settingsState };\r\n    try {\r\n      const { data } = await baseUrl.put(\"/users\", updatedUser, {\r\n        headers: { Authorization: `Bearer ${user.accessToken}` },\r\n      });\r\n      if (data?.response)\r\n        dispatch({ type: UPDATE_USER, payload: data.response });\r\n    } catch (err) {}\r\n  };\r\n\r\n  const onImageChange = async (e) => {\r\n    const files = e.target.files[0];\r\n    const form = new FormData();\r\n    form.append(\"file\", files);\r\n    form.append(\"upload_preset\", \"socialmedia-website\");\r\n    form.append(\"cloud_name\", \"tushar-goplani\");\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"https://api.cloudinary.com/v1_1/tushar-goplani/image/upload\",\r\n        form\r\n      );\r\n      setSettingsState((p) => ({ ...p, profilepicture: data?.secure_url }));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex max-w-360 mx-auto\">\r\n      <Sidebar />\r\n      <div className=\"relative flex-[7] md:px-10 px-4 mt-6\">\r\n        <div className=\"rounded py-5 px-4 border border-[#8b8a8a]\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"font-bold text-xl\">User</h2>\r\n          </div>\r\n          <Field\r\n            label=\"Name\"\r\n            name=\"username\"\r\n            placeholder={settingsState.username}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <Field\r\n            label=\"email\"\r\n            name=\"email\"\r\n            placeholder={settingsState.email}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <div className=\"mt-6 flex items-center gap-4\">\r\n            <img\r\n              className=\"w-12 h-12 rounded-full object-cover\"\r\n              src={settingsState.profilepicture || DEFAULT_AVATAR}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              className=\"ProPhotoInput\"\r\n              type=\"file\"\r\n              accept=\"image/png, image/jpeg, image/jpg\"\r\n              onChange={onImageChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"rounded py-5 px-4 border border-[#8b8a8a] mt-6\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"font-bold text-xl\">About</h2>\r\n          </div>\r\n          <Field\r\n            label=\"Bio\"\r\n            name=\"description\"\r\n            placeholder={settingsState.description}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <Field\r\n            label=\"City\"\r\n            name=\"city\"\r\n            placeholder={settingsState.city}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <div className=\"flex justify-end mt-6\">\r\n            <Button\r\n              onClick={handleSubmit}\r\n              variant=\"contained\"\r\n              style={{\r\n                backgroundColor: \"rgb(0, 190, 255)\",\r\n                color: \"white\",\r\n              }}\r\n            >\r\n              Update\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Field = (props) => {\r\n  return (\r\n    <div className=\"mt-6\">\r\n      <TextField type=\"text\" fullWidth focused variant=\"outlined\" {...props} />\r\n    </div>\r\n  );\r\n};\r\n"],"names":["menuItems","name","to","Icon","AddBox","Home","Chat","Info","ContactSupport","Sidebar","className","map","idx","document","title","initialValue","profilepicture","username","email","description","city","UPDATE_USER","actionTypes","Settings","user","useSelector","state","dispatch","useDispatch","useState","settingsState","setSettingsState","onChangeHandler","e","target","value","prev","useEffect","baseUrl","params","userId","select","data","response","handleSubmit","preventDefault","updatedUser","headers","Authorization","accessToken","type","payload","onImageChange","files","form","FormData","append","axios","p","secure_url","console","log","Field","label","placeholder","onChange","src","DEFAULT_AVATAR","alt","accept","onClick","variant","style","backgroundColor","color","props","fullWidth","focused"],"sourceRoot":""}