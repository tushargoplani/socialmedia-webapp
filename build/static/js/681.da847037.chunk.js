"use strict";(self.webpackChunkmern_media_web_app=self.webpackChunkmern_media_web_app||[]).push([[681],{220:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(1523),r=n(7510),s=n(2037),c=n(4900),o=n(9628),i=n(963),l=n(6274),u=n(4861),d=n(2279),p=n(9799),m=n(9547),x=n(5449),h=n(184),f=[{name:"Create Post",to:"/write",Icon:r.Z},{name:"Home",to:"/",Icon:s.Z},{name:"Chats",to:"/chat",Icon:c.Z},{name:"Questions",to:"/contact",Icon:o.Z},{name:"Sign In/Up",to:"/login",Icon:i.Z},{name:"About",to:"/about",Icon:l.Z},{name:"Contact",to:"/contact",Icon:u.Z}],v=[{to:"https://twitter.com/SRK_R_?t=58WfgjgrqabaZrXWBHTZkg&s=08",Icon:d.Z},{to:"https://github.com/SRK-prog/",Icon:p.Z},{to:"https://www.linkedin.com/in/sivaramakrishnan-r262/",Icon:m.Z},{to:"https://www.instagram.com/siva.r12/",Icon:x.Z}];function g(){return(0,h.jsx)("div",{className:"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden",children:(0,h.jsxs)("div",{className:"p-4",children:[(0,h.jsx)("ul",{className:"flex flex-col gap-2 font-medium text-gray-80",children:f.map((function(e,t){var n=e.name,r=e.Icon,s=e.to;return(0,h.jsxs)(a.rU,{to:s,className:"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20",children:[(0,h.jsx)(r,{}),(0,h.jsx)("span",{children:n})]},t)}))}),(0,h.jsx)("div",{className:"flex mt-5 gap-1 mb-2 items-center justify-center",children:v.map((function(e,t){var n=e.Icon,a=e.to;return(0,h.jsx)("a",{target:"_blank",rel:"noreferrer",href:a,children:(0,h.jsx)(n,{className:"text-3xl text-gray-90 hover:text-[#353434]"})},t)}))}),(0,h.jsx)("hr",{className:"py-5"})]})})}},9681:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(4165),r=n(5861),s=n(4942),c=n(1413),o=n(885),i=n(2791),l=n(6513),u=n(1927),d=n(364),p=n(4569),m=n.n(p),x=n(220),h=n(7361),f=n(6953),v=n(184);document.title="Settings";var g={profilepicture:"",username:"",email:"",description:"",city:""},b=h.Hp.UPDATE_USER;function j(){var e=(0,d.v9)((function(e){return e.user})),t=(0,d.I0)(),n=(0,i.useState)(g),u=(0,o.Z)(n,2),p=u[0],j=u[1],y=function(e){var t=e.target,n=t.name,a=t.value;j((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,s.Z)({},n,a))}))};(0,i.useEffect)((function(){(0,r.Z)((0,a.Z)().mark((function t(){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"username email profilepicture description city createdAt lastSeen",t.prev=1,t.next=4,f.F.get("/users",{params:{userId:e.userId,select:"username email profilepicture description city createdAt lastSeen"}});case 4:n=t.sent,null!==(r=n.data)&&void 0!==r&&r.response&&j(null===r||void 0===r?void 0:r.response),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})))()}),[e.userId]);var w=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var s,o,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),s=(0,c.Z)({userId:e.userId},p),n.prev=2,n.next=5,f.F.put("/users",s,{headers:{Authorization:"Bearer ".concat(e.accessToken)}});case 5:o=n.sent,null!==(i=o.data)&&void 0!==i&&i.response&&t({type:b,payload:i.response}),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("file",n),r.append("upload_preset","socialmedia-website"),r.append("cloud_name","srksiva"),e.prev=5,e.next=8,m().post("https://api.cloudinary.com/v1_1/srksiva/image/upload",r);case 8:s=e.sent,o=s.data,j((function(e){return(0,c.Z)((0,c.Z)({},e),{},{profilepicture:null===o||void 0===o?void 0:o.secure_url})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"flex max-w-360 mx-auto",children:[(0,v.jsx)(x.Z,{}),(0,v.jsxs)("div",{className:"relative flex-[7] md:px-10 px-4 mt-6",children:[(0,v.jsxs)("div",{className:"rounded py-5 px-4 border border-[#8b8a8a]",children:[(0,v.jsx)("div",{className:"mb-6",children:(0,v.jsx)("h2",{className:"font-bold text-xl",children:"User"})}),(0,v.jsx)(Z,{label:"Name",name:"username",placeholder:p.username,onChange:y}),(0,v.jsx)(Z,{label:"email",name:"email",placeholder:p.email,onChange:y}),(0,v.jsxs)("div",{className:"mt-6 flex items-center gap-4",children:[(0,v.jsx)("img",{className:"w-12 h-12 rounded-full object-cover",src:p.profilepicture||h.tU,alt:""}),(0,v.jsx)("input",{className:"ProPhotoInput",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:k})]})]}),(0,v.jsxs)("div",{className:"rounded py-5 px-4 border border-[#8b8a8a] mt-6",children:[(0,v.jsx)("div",{className:"mb-6",children:(0,v.jsx)("h2",{className:"font-bold text-xl",children:"About"})}),(0,v.jsx)(Z,{label:"Bio",name:"description",placeholder:p.description,onChange:y}),(0,v.jsx)(Z,{label:"City",name:"city",placeholder:p.city,onChange:y}),(0,v.jsx)("div",{className:"flex justify-end mt-6",children:(0,v.jsx)(l.Z,{onClick:w,variant:"contained",style:{backgroundColor:"rgb(0, 190, 255)",color:"white"},children:"Update"})})]})]})]})}var Z=function(e){return(0,v.jsx)("div",{className:"mt-6",children:(0,v.jsx)(u.Z,(0,c.Z)({type:"text",fullWidth:!0,focused:!0,variant:"outlined"},e))})}}}]);
//# sourceMappingURL=681.da847037.chunk.js.map