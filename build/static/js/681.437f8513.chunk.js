"use strict";(self.webpackChunkmern_media_web_app=self.webpackChunkmern_media_web_app||[]).push([[681],{220:function(e,a,n){n.d(a,{Z:function(){return d}});var t=n(1523),r=n(7510),s=n(2037),c=n(4900),i=n(6274),o=n(4861),l=n(184),u=[{name:"Create Post",to:"/write",Icon:r.Z},{name:"Home",to:"/",Icon:s.Z},{name:"Chats",to:"/chat",Icon:c.Z},{name:"About",to:"/about",Icon:i.Z},{name:"Contact",to:"/contact",Icon:o.Z}];function d(){return(0,l.jsx)("div",{className:"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("ul",{className:"flex flex-col gap-2 font-medium text-gray-80",children:u.map((function(e,a){var n=e.name,r=e.Icon,s=e.to;return(0,l.jsxs)(t.rU,{to:s,className:"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20",children:[(0,l.jsx)(r,{}),(0,l.jsx)("span",{children:n})]},a)}))})})})}},9681:function(e,a,n){n.r(a),n.d(a,{default:function(){return j}});var t=n(4165),r=n(5861),s=n(4942),c=n(1413),i=n(885),o=n(2791),l=n(6513),u=n(1927),d=n(364),p=n(4569),m=n.n(p),x=n(220),f=n(7361),h=n(6953),v=n(184);document.title="Settings";var b={profilepicture:"",username:"",email:"",description:"",city:""},g=f.Hp.UPDATE_USER;function j(){var e=(0,d.v9)((function(e){return e.user})),a=(0,d.I0)(),n=(0,o.useState)(b),u=(0,i.Z)(n,2),p=u[0],j=u[1],y=function(e){var a=e.target,n=a.name,t=a.value;j((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,s.Z)({},n,t))}))};(0,o.useEffect)((function(){(0,r.Z)((0,t.Z)().mark((function a(){var n,r;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"username email profilepicture description city createdAt lastSeen",a.prev=1,a.next=4,h.F.get("/users",{params:{userId:e.userId,select:"username email profilepicture description city createdAt lastSeen"}});case 4:n=a.sent,null!==(r=n.data)&&void 0!==r&&r.response&&j(null===r||void 0===r?void 0:r.response),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(1);case 11:case"end":return a.stop()}}),a,null,[[1,9]])})))()}),[e.userId]);var N=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){var s,i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),s=(0,c.Z)({userId:e.userId},p),n.prev=2,n.next=5,h.F.put("/users",s,{headers:{Authorization:"Bearer ".concat(e.accessToken)}});case 5:i=n.sent,null!==(o=i.data)&&void 0!==o&&o.response&&a({type:g,payload:o.response}),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(a){var n,r,s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.files[0],(r=new FormData).append("file",n),r.append("upload_preset","socialmedia-website"),r.append("cloud_name","tushar-goplani"),e.prev=5,e.next=8,m().post("https://api.cloudinary.com/v1_1/tushar-goplani/image/upload",r);case 8:s=e.sent,i=s.data,j((function(e){return(0,c.Z)((0,c.Z)({},e),{},{profilepicture:null===i||void 0===i?void 0:i.secure_url})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(a){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"flex max-w-360 mx-auto",children:[(0,v.jsx)(x.Z,{}),(0,v.jsxs)("div",{className:"relative flex-[7] md:px-10 px-4 mt-6",children:[(0,v.jsxs)("div",{className:"rounded py-5 px-4 border border-[#8b8a8a]",children:[(0,v.jsx)("div",{className:"mb-6",children:(0,v.jsx)("h2",{className:"font-bold text-xl",children:"User"})}),(0,v.jsx)(Z,{label:"Name",name:"username",placeholder:p.username,onChange:y}),(0,v.jsx)(Z,{label:"email",name:"email",placeholder:p.email,onChange:y}),(0,v.jsxs)("div",{className:"mt-6 flex items-center gap-4",children:[(0,v.jsx)("img",{className:"w-12 h-12 rounded-full object-cover",src:p.profilepicture||f.tU,alt:""}),(0,v.jsx)("input",{className:"ProPhotoInput",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:w})]})]}),(0,v.jsxs)("div",{className:"rounded py-5 px-4 border border-[#8b8a8a] mt-6",children:[(0,v.jsx)("div",{className:"mb-6",children:(0,v.jsx)("h2",{className:"font-bold text-xl",children:"About"})}),(0,v.jsx)(Z,{label:"Bio",name:"description",placeholder:p.description,onChange:y}),(0,v.jsx)(Z,{label:"City",name:"city",placeholder:p.city,onChange:y}),(0,v.jsx)("div",{className:"flex justify-end mt-6",children:(0,v.jsx)(l.Z,{onClick:N,variant:"contained",style:{backgroundColor:"rgb(0, 190, 255)",color:"white"},children:"Update"})})]})]})]})}var Z=function(e){return(0,v.jsx)("div",{className:"mt-6",children:(0,v.jsx)(u.Z,(0,c.Z)({type:"text",fullWidth:!0,focused:!0,variant:"outlined"},e))})}}}]);
//# sourceMappingURL=681.437f8513.chunk.js.map