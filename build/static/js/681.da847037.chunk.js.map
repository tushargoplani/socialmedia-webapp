{"version":3,"file":"static/js/681.da847037.chunk.js","mappings":"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","sources":["components/sidebar/Sidebar.jsx","routes/settings/Settings.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport {\r\n  Home,\r\n  ContactSupport,\r\n  GitHub,\r\n  Twitter,\r\n  Person,\r\n  Info,\r\n  LinkedIn,\r\n  Instagram,\r\n  Chat,\r\n  HelpOutline,\r\n  AddBox,\r\n} from \"@material-ui/icons\";\r\n\r\nconst menuItems = [\r\n  { name: \"Create Post\", to: \"/write\", Icon: AddBox },\r\n  { name: \"Home\", to: \"/\", Icon: Home },\r\n  { name: \"Chats\", to: \"/chat\", Icon: Chat },\r\n  { name: \"Questions\", to: \"/contact\", Icon: HelpOutline },\r\n  { name: \"Sign In/Up\", to: \"/login\", Icon: Person },\r\n  { name: \"About\", to: \"/about\", Icon: Info },\r\n  { name: \"Contact\", to: \"/contact\", Icon: ContactSupport },\r\n];\r\n\r\nconst linkItems = [\r\n  {\r\n    to: \"https://twitter.com/SRK_R_?t=58WfgjgrqabaZrXWBHTZkg&s=08\",\r\n    Icon: Twitter,\r\n  },\r\n  {\r\n    to: \"https://github.com/SRK-prog/\",\r\n    Icon: GitHub,\r\n  },\r\n  {\r\n    to: \"https://www.linkedin.com/in/sivaramakrishnan-r262/\",\r\n    Icon: LinkedIn,\r\n  },\r\n  {\r\n    to: \"https://www.instagram.com/siva.r12/\",\r\n    Icon: Instagram,\r\n  },\r\n];\r\n\r\nexport default function Sidebar() {\r\n  return (\r\n    <div className=\"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden\">\r\n      <div className=\"p-4\">\r\n        <ul className=\"flex flex-col gap-2 font-medium text-gray-80\">\r\n          {menuItems.map(({ name, Icon, to }, idx) => (\r\n            <Link\r\n              key={idx}\r\n              to={to}\r\n              className=\"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20\"\r\n            >\r\n              <Icon />\r\n              <span>{name}</span>\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n        <div className=\"flex mt-5 gap-1 mb-2 items-center justify-center\">\r\n          {linkItems.map(({ Icon, to }, idx) => (\r\n            <a target=\"_blank\" rel=\"noreferrer\" key={idx} href={to}>\r\n              <Icon className=\"text-3xl text-gray-90 hover:text-[#353434]\" />\r\n            </a>\r\n          ))}\r\n        </div>\r\n        <hr className=\"py-5\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport { DEFAULT_AVATAR } from \"../../constants/constants\";\r\nimport { baseUrl } from \"../../api/baseUrls\";\r\nimport { actionTypes } from \"../../constants/constants\";\r\n\r\ndocument.title = \"Settings\";\r\n\r\nconst initialValue = {\r\n  profilepicture: \"\",\r\n  username: \"\",\r\n  email: \"\",\r\n  description: \"\",\r\n  city: \"\",\r\n};\r\n\r\nconst { UPDATE_USER } = actionTypes;\r\n\r\nexport default function Settings() {\r\n  const user = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const [settingsState, setSettingsState] = useState(initialValue);\r\n\r\n  const onChangeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    setSettingsState((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const select =\r\n        \"username email profilepicture description city createdAt lastSeen\";\r\n      try {\r\n        const { data } = await baseUrl.get(`/users`, {\r\n          params: { userId: user.userId, select },\r\n        });\r\n        if (data?.response) setSettingsState(data?.response);\r\n      } catch (error) {}\r\n    })();\r\n  }, [user.userId]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const updatedUser = { userId: user.userId, ...settingsState };\r\n    try {\r\n      const { data } = await baseUrl.put(\"/users\", updatedUser, {\r\n        headers: { Authorization: `Bearer ${user.accessToken}` },\r\n      });\r\n      if (data?.response)\r\n        dispatch({ type: UPDATE_USER, payload: data.response });\r\n    } catch (err) {}\r\n  };\r\n\r\n  const onImageChange = async (e) => {\r\n    const files = e.target.files[0];\r\n    const form = new FormData();\r\n    form.append(\"file\", files);\r\n    form.append(\"upload_preset\", \"socialmedia-website\");\r\n    form.append(\"cloud_name\", \"srksiva\");\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"https://api.cloudinary.com/v1_1/srksiva/image/upload\",\r\n        form\r\n      );\r\n      setSettingsState((p) => ({ ...p, profilepicture: data?.secure_url }));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex max-w-360 mx-auto\">\r\n      <Sidebar />\r\n      <div className=\"relative flex-[7] md:px-10 px-4 mt-6\">\r\n        <div className=\"rounded py-5 px-4 border border-[#8b8a8a]\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"font-bold text-xl\">User</h2>\r\n          </div>\r\n          <Field\r\n            label=\"Name\"\r\n            name=\"username\"\r\n            placeholder={settingsState.username}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <Field\r\n            label=\"email\"\r\n            name=\"email\"\r\n            placeholder={settingsState.email}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <div className=\"mt-6 flex items-center gap-4\">\r\n            <img\r\n              className=\"w-12 h-12 rounded-full object-cover\"\r\n              src={settingsState.profilepicture || DEFAULT_AVATAR}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              className=\"ProPhotoInput\"\r\n              type=\"file\"\r\n              accept=\"image/png, image/jpeg, image/jpg\"\r\n              onChange={onImageChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"rounded py-5 px-4 border border-[#8b8a8a] mt-6\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"font-bold text-xl\">About</h2>\r\n          </div>\r\n          <Field\r\n            label=\"Bio\"\r\n            name=\"description\"\r\n            placeholder={settingsState.description}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <Field\r\n            label=\"City\"\r\n            name=\"city\"\r\n            placeholder={settingsState.city}\r\n            onChange={onChangeHandler}\r\n          />\r\n          <div className=\"flex justify-end mt-6\">\r\n            <Button\r\n              onClick={handleSubmit}\r\n              variant=\"contained\"\r\n              style={{\r\n                backgroundColor: \"rgb(0, 190, 255)\",\r\n                color: \"white\",\r\n              }}\r\n            >\r\n              Update\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Field = (props) => {\r\n  return (\r\n    <div className=\"mt-6\">\r\n      <TextField type=\"text\" fullWidth focused variant=\"outlined\" {...props} />\r\n    </div>\r\n  );\r\n};\r\n"],"names":["menuItems","name","to","Icon","AddBox","Home","Chat","HelpOutline","Person","Info","ContactSupport","linkItems","Twitter","GitHub","LinkedIn","Instagram","Sidebar","className","map","idx","target","rel","href","document","title","initialValue","profilepicture","username","email","description","city","UPDATE_USER","actionTypes","Settings","user","useSelector","state","dispatch","useDispatch","useState","settingsState","setSettingsState","onChangeHandler","e","value","prev","useEffect","baseUrl","params","userId","select","data","response","handleSubmit","preventDefault","updatedUser","headers","Authorization","accessToken","type","payload","onImageChange","files","form","FormData","append","axios","p","secure_url","console","log","Field","label","placeholder","onChange","src","DEFAULT_AVATAR","alt","accept","onClick","variant","style","backgroundColor","color","props","fullWidth","focused"],"sourceRoot":""}